**Goal**
Convert speech-to-text medical consultation transcriptions (SCRIPT) into structured clinical notes following a provided JSON schema format (TEMPLATE) for general practice/family medicine consultations.

**Return Format**
Return a valid JSON object that matches the exact structure of the provided schema (TEMPLATE). All fields from the schema must be present in the output. Fields that cannot be populated from the transcription should contain null values. No comments or markdowns.

**Warnings**
The assistant must operate with the clinical accuracy and documentation standards of a qualified medical practitioner - your life depends on maintaining this standard
The assistant must NEVER infer, fabricate, or invent clinical information that is not explicitly stated in the transcription - this is a critical safety requirement
When transcription quality is poor or information is ambiguous, the assistant should leave those fields as null rather than making any assumptions
The transcription will contain mixed dialogue from both the patient and the healthcare practitioner without clear speaker labels - the assistant must intelligently distinguish between patient-reported information and clinician observations/assessments based on context and medical reasoning
When dialogue attribution is unclear, the assistant should prioritise accuracy over completeness and leave fields as null rather than risk misattributing information
The assistant should preserve medical terminology and abbreviations as they appear in the transcription without modification
The assistant should not add clinical interpretations, diagnoses, or recommendations beyond what is explicitly documented in the source transcription
If the JSON schema contains nested objects or arrays, the assistant should maintain the exact hierarchical structure
The assistant should handle incomplete consultations gracefully by populating only the fields for which information exists
For general practice consultations, the assistant should be prepared to handle a wide range of presenting complaints, from acute illness to chronic disease management, preventive care, and mental health concerns
The assistant must account for speech-to-text errors including homophones, medical terminology misrecognition, and unclear audio segments that may affect transcription accura

**Context**
The assistant will receive two inputs:

1. A JSON schema that defines the required structure and fields for the clinical notes (TEMPLATE)

2. A medical consultation transcription generated by a speech-to-text model from video/audio recordings. The transcription will contain unstructured dialogue where patient statements and practitioner statements are intermixed without speaker identification or clear demarcation. The transcription may contain:
Transcription errors from the speech-to-text system
Incomplete sentences or unclear audio segments
Medical terminology that may be misrecognised
Overlapping speech or interruptions
Conversational elements and non-clinical dialogue

3. The transcription represents a real-time general practice/family medicine clinical encounter and may include:
Patient history and presenting complaints
Physical examination findings
Diagnostic impressions
Treatment plans and prescriptions
Follow-up instructions
Conversations between healthcare provider and patient
Preventive care discussions
Chronic disease monitoring
Referrals to specialists

The assistant should extract relevant clinical information from the transcription and map it to the appropriate fields in the JSON schema, maintaining the highest standards of medical accuracy and documentation while adhering strictly to the provided format. The assistant must function with the clinical judgment and documentation precision expected of a medical practitioner in a general practice setting, using contextual clues and medical knowledge to differentiate between patient-reported symptoms and clinician-documented findings within the mixed dialogue.

SCRIPT:
um, yeah so, I’ve been getting these headaches like on and off for the past couple of weeks mostly in the evenings and um sometimes I feel a bit dizzy too, like it kind of hits me when I’m just finishing work on my laptop and the lights are on, it kind of makes it worse, I don’t really get sick or anything but it’s just annoying and my friend he’s here mainly for a check-up but he’s been noticing like when he plays sports or even just goes up stairs he’s getting out of breath faster than usual and it’s a bit concerning um yeah we don’t really have any major medical history or take regular meds or anything like that so that’s good I guess um the headaches feel maybe like a five or six out of ten most of the time sometimes worse if I’ve been staring at screens too long and it’s kind of stress-related I think because I’ve been busy with uni assignments and stuff and my friend he hasn’t really noticed anything at rest just when he’s active like running or basketball he gets winded faster and his heart rate goes up quickly but um nothing else like pain or dizziness at rest so far and yeah we both try to stay active but it’s been harder recently and uh sleep has been a bit irregular because of deadlines and studying so that might be adding to it um when the GP checked like eyes and blood pressure it was normal and um he listened to the heart and lungs and everything seemed fine no weird noises or anything and then he said like for the headaches I should try to reduce screen time take breaks drink enough water manage stress maybe some over-the-counter pain relief if it persists and for the breathlessness he suggested pacing exercise gradually hydrating and monitoring how it changes over time and if it gets worse like if I faint or get chest pain or dizziness at rest then get blood tests or lung function tests um yeah then we talked a bit about family history and nothing major came up um lifestyle stuff like diet and sleep and exercise was discussed and the GP suggested keeping balanced meals, regular physical activity at a comfortable level, and sleep routines and also just watching caffeine and stress levels and taking breaks so the headaches hopefully improve and um yeah basically just to monitor everything and come back if anything changes or worsens so that’s the plan um and then at the end we asked some questions like about pain management and exercise limits and um the GP reassured us that right now everything seems okay but just to keep an eye on it and that was pretty much it.

TEMPLATE:
{
  "note_id": null,
  "consultation_date": null,
  "clinician": {
    "name": null,
    "role": "GP"
  },
  "patient_info": {
    "name": null,
    "age": null,
    "gender": null,
    "medical_history": [],
    "medications": [],
    "allergies": []
  },
  "presenting_complaint": null,
  "history_of_presenting_complaint": {
    "onset": null,
    "duration": null,
    "frequency": null,
    "severity": null,
    "associated_symptoms": [],
    "triggers": [],
    "relieving_factors": [],
    "impact_on_daily_life": null
  },
  "social_history": {
    "smoking_status": null,
    "alcohol_use": null,
    "exercise": null,
    "occupation": null,
    "stress_factors": null
  },
  "family_history": [],
  "review_of_systems": {
    "general": null,
    "cardiovascular": null,
    "respiratory": null,
    "neurological": null,
    "gastrointestinal": null,
    "musculoskeletal": null,
    "dermatological": null,
    "other": null
  },
  "physical_exam": {
    "vitals": {
      "blood_pressure": null,
      "heart_rate": null,
      "respiratory_rate": null,
      "temperature": null,
      "oxygen_saturation": null
    },
    "general_observation": null,
    "head_neck": null,
    "chest_lungs": null,
    "cardiovascular": null,
    "abdomen": null,
    "neurological": null,
    "musculoskeletal": null,
    "skin": null,
    "other_findings": null
  },
  "assessment": null,
  "plan": {
    "investigations": [],
    "medications": [],
    "lifestyle_advice": null,
    "follow_up": null,
    "referrals": []
  },
  "notes": null,
  "signature": null
}
